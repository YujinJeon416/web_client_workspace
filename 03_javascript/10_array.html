<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js - array</title>
</head>
<body>
    <h1>Array</h1>
    <h2>배열 생성</h2>
    <input type="button" value="배열 생성" onclick="test1();">
    <input type="button" value="초기화" onclick="test2();">
    <script>
        /**
         * 초기화: 변수선언, 값대입 동시에 처리
         */ 
        function test2(){
            var arr1 = [1,2,3]// 초기화 자바에서는 int[] arr = {1,2,3};
            var arr2 = new Array("철수", "영희", "삼식");
            console.log(arr1);
            console.log(arr2);

            var arr3 = [1,2,3,"안녕" , true, 123.456, {id: "honggd"}]; //타입제한이 없다.
            console.log(arr3);
            

            //2차원배열
            var arr4 = [1, 2, 3, ['a', 'b','c']];
            console.log(arr4);
            console.log(arr4[3][1]);

            //모든 요소를 열람
            // for(vavr i in arr4){
            //     if(arr4[i].length){
            //         for(var j in arr4[i]
            //         console.log(arr4[i][j]);
            //     }
            //     else
            //     //단순 요소인 경우
            //     console.log(arr4[i]);
            // }
            for(var i in arr4) {
            if(!arr4[i].length) {
                console.log(arr4[i]);
            }
            else {
                for(var j in arr4[i]) {
                    console.log(arr4[i][j]);
                }
            }
        }
    }


        
    /**
     * js배열은 크기제한, 타입제한이 없다.
     * 타입지정이 없고, 크기도 가변형이므로, 자바의 ArrayList<Object>와 비슷하다.
     * 
     */ 
        
     
     function test1(){
        //배열 선언
        var arr1 = [];
        var arr2 = new Array(); //new 연산자 사용
        var arr3 = new Array(3); //크기 지정도 가능, 하지만 가변해서 쓸데없음

        console.log(arr1);
        console.log(arr2); //두개모두 속성으로 length, _proto_ 라는게 있었음
        console.log(arr3);


        arr1[0] = "a";
        arr1[1] = "b";
        arr1[2] = "b";
        arr1[3] = "b";
        arr1[4] = "b";
        arr1[5] = "b";
        arr1[7] = "f"; //이렇게 될경우 arr1 = length 8, arr1[6]=undifined

        arr3[0] = "a";
        arr3[1] = "b";
        arr3[2] = "c";
        arr3[3] = "d";
        arr3[4] = "e";

        //값 가져오기
        console.log(arr3[3]);

        //존재하지 않는 값을 가져온다면??
        console.log(arr3[5]);


        // //반복문
        //Java의 for Each와 비슷함
        // for(var i = 0; i < arr1.length; i ++){
        //     console.log(arr1[i]);
        // }

        //for..in문: 배열, 객체
        //배열 : i변수에는 배열의 인덱스가 대입됨.
        //객체 : i변수에 속성명이 대입됨.
        //i변수에는 배열의 인덱스가 대입된다.

        for(var i in arr1){
            console.log(i, arr1[i]);

        }


        };



        // console.log(arr1[0]);
        // console.log(arr1[1]);
        // console.log(arr1[2]);

        
    </script>

    <h2>일반배열 | 유사배열</h2>
    <input type="button" value="실행" onclick="test3();">
    <script>
        /**
         * 일반배열 : Array객체 상속
         * 유사배열 : Array가 아닌 객체 상속. Array메소드 사용불가
         * 
         */

         var test3 = function () {
        var arr1 = [1, 2, 3];
        var arr2 = document.getElementsByTagName("input");
        console.log(arr1); //_proto_ : Array 배열
        console.log(arr2); //_proto_ : HTMLCollection 유사배열

        //유사배열은 for..in문 사용하지 말것.
        //유사배열은 객체처럼 작동함. index가 아닌 속성명이 i에 담기게 된다.
        //length, item, namedItem....이상한것들도나오기 때문
        console.log("유사배열 for in문");
        for (var i in arr2) {
          console.log(i, arr2[i]);
        }
        console.log("유사배열 for문");
        for (var i = 0; i < arr2.length; i++) {
          console.log(i, arr2[i]);
        }
      };

    
        </script>

        <h2>Array Method</h2>
        <input type="button" value="indexOf" onclick="test4()" />
        <input type="button" value="concat" onclick="test5()" />
        <input type="button" value="join" onclick="test6()" />
        <input type="button" value="reverse" onclick="test7()" />
        <input type="button" value="sort" onclick="test8()" />
        <input type="button" value="push | pop" onclick="test9()" />
        <input type="button" value="unshift | shift" onclick="test10()" />
        <input type="button" value="slice" onclick="test11()" />
        <input type="button" value="splice" onclick="test12()" />
        <input type="button" value="@실습문제" onclick="test13()" />
        <ul id="hobby-list"></ul>








        <script>
            /**
             *prompt를 이용해 사용자의 취미리스트를 입력받으세요.
             * 예)농구, 수영, 캠핑, 낚시 
             * ,구분자로 잘라서 배열로 담은 후 사전순 정렬 이후 ul#hobby-list의 자식 li로 추가하세요.
             * 
             */

             var test13 = function () {
            var hobby = prompt().split(",");
            hobby.sort();

            var str = "";
            for (var i in hobby) {
            str += "<li>" + hobby[i] + "</li>";
             }
             var ul = document.getElementById("hobby-list");
            ul.innerHTML = str;
             };

       
             
            
             
            /**
             * 요소 제거 & 추가
            * splice(startIndex, deleteCount, item1, item2, .....);
            * -startIndex부터 deleteCount개의 요소를 제거하고,
            * startIndex에 item1, item2,....를 추가
            * 
            *  startIndex : 요소제거 및 삽입 인덱스
            *  deleteCount : 제거할 요소 개수
            *  item1... : 추가할 요소(개수 제한 없음)
            * 
            * 원본배열 변경, 제거된 요소가 배열로 리턴
            
            */
            
            var test12 = function () {
            var arr = ["a", "b", "c", "d", "e"];

            //1번인덱스부터 1개를 지우고 1번인덱스 위치에 x, y를 입력
            arr.splice(1, 1, "x", "y");

            console.log(arr); // 결과값 = a,x,y,c,d,e

            //실습문제 a x k h e
             arr.splice(2, 3, "k", "h");
            console.log(arr);

            //추가만 해서 a x f r i k h e 할때
            arr.splice(2, 0, "f", "r", "i");
            console.log(arr);

            //제거만 할경우
            arr.splice(2, 3);
            console.log(arr); // a x k h e, [f r i 없어짐]

             //제거할때 startIndex만 사용할경우 = startIndex이상은 모두 지움
             arr.splice(1);
            console.log(arr);
            };


            /**
             * slice(startIndex(포함), endIndex(미포함))
             * startIndex부터 endIndex전까지의 요소를 가져와서 새 배열로 리턴
             * 원본값은 변경이없음
             */ 
            var test11 = function(){
                var arr = ["a", "b", "c", "d", "e"];
                var slice = arr.slice(1, 4);
                console.log(arr); //원본값 변경 x
                console.log(slice); //b c d 들어있는거 확인
             };

            /**
            * unshift 배열 0번지에 요소를 추가하고, 변경된 길이를 리턴
            * shift 배열 0번지요소를 제거하고, 제거된 요소를 리턴
            */

            var test10 = function () {
           var arr = ["사과", "배", "아보카도"];
           arr.unshift("감자");
           arr.unshift("양파");
           console.log(arr);

            arr.shift();
            console.log(arr);
           };

            /**
             * push 배열 마지막에 요소추가 후 변경된 길이를 리턴
             * pop 배열 마지막 요소를 제거하고 제거된 요소를 리턴
             */

             var test9 = function(){
                var arr = [];
                // arr.push(1);
                // arr.push(2);
                // arr.push(3);
                console.log(arr);
               
                
                var k = 1;
                while(true){
                 arr.push(k++);
                 if(k > 100) break;
                 }
                // console.log(arr);

            //     //마지막요소 제거 : 제거된 요소를 리턴
            //    console.log(arr.pop());
            //    console.log(arr.pop());

            //arr의 마지막요소부터 제거해서 모든 요소를 copy에 옮겨담기
            //[100, 99, 98, ..... ,3,2,1]
               var copy = [];

            var k = 1;
            while(true){
                copy.push(arr.pop());
                if(k > 100) break;
            }

            //    for(var i = 0; i < 100; i++){
            //     copy[i] = arr.pop();
            //      }

            //      var k = 1;
            //     while(true){
            //     copy.push(arr.pop());
            //     k++;
            //     if(k > 100) break;
            //    } //같은결과
               


               console.log(copy); // [100, 99, 98, ..... ,3,2,1]
               console.log(arr); // []

             };

            /**
             * sort 오름차순(기본값) 정렬해서 리턴
             */ 

             var test8 = function(){
                var arr = [5, 3, 1, 2, 7, 8, 4, 6];
                console.log("정렬한값 : " + arr.sort()); //1,2,3,4,5,6,7,8로 정렬된것을 볼수있음
                console.log("원본 값 확인 : " + arr); //원본배열도 1,2,3,4,5,6,7,8로 바뀌었음!


              //내림차순 : 정렬기준 함수(callback함수-내부적으로 다시 sort를 호출)를 내림차순으로 처리되도록 전달한다.
                //음수 | 0 | 양수
                //sort하고 reverse하는 방법도있음!
                arr.sort(function (a, b) {
                return b - a;
                });
                 console.log("내림차순 정렬 : " + arr);
            
            

            //문자열 오름차순 : 사전등재순
            var names = [ "홍길동", "김길동", "라마단" ,"다나가"];
            console.log(names.sort());//["김길동", "다나가", "라마단", "홍길동"]

            //문자열 내림차순 : 정렬기준함수
            //문자열간에는 - 연산 불가. 비교연산 가능.
            // names.sort(function (a, b) {
            //   return b - a;
            // });
            //안되는 이유 문자열은 (-),(*),(/),(%)연산이 안되기 때문!!

            // names.sort(function(a, b){
            // if(a > b) return -1; //음수가 리턴되면 자리교환이 일어남
            // if(b > a) return 1;
            // return 0;

            //  });


            console.log('홍길동' - '김길동');//NaN
            console.log('홍길동' > '김길동');//true 크기 비교 연산


            console.log(
            names.sort(function (a, b) {
            // if (a > b) return -1;
            // else if (a == b) return 0;
            // else return 1;
            return -a.localeCompare(b);
             })
            );
         };



            /**
             * reverse : 원본 배열 요소의 순서를 뒤집어서 리턴. 요소의 순서를 뒤집음.
             * 
             */ 
             var test7 = function () {
            var arr = [1, 2, 3, 4, 5];
            console.log(arr.reverse()); //5,4,3,2,1로 순서가 뒤바뀐것을 볼수있음
            console.log(arr); //원본배열도 5,4,3,2,1로 바뀌었음
            };


            /**
             * join  : 요소를 지정한 구분자를 기준으로 합쳐서 문자열로 리턴
             */
            
             var test6 = function(){
                var arr = [1,2,3,4,5];
                //  var s = arr.join("-");
                 var s = arr.join(); //제공된 구분자가 없다면 기본적으로 콤마가 들어감
                console.log(s); //1,2,3,4,5 
                console.log(typeof s); //type = String
             };
    

             

            /**
            * concat 두배열의 요소를 합쳐서 새로운 하나의 배열로 리턴
            * 파라미터를 사용하지 않는다면 복제의 기능으로도 사용가능
            */
            var test5 = function(){
                var arr1 = ['a', 'b', 'c'];
                var arr2 = [1, 2, 3, 4, 5];
                var arr3 = arr2.concat(arr1);

                console.log(arr1.concat(arr2)); // ['a', 'b', 'c', 1, 2, 3, 4, 5];
                console.log(arr2.concat(arr1)); // [ 1, 2, 3, 4, 5,'a', 'b', 'c' ]
                console.log(arr1); //원본배열은 변경되지 않음
            };

            
            var test4 = function () {
            var arr = ["apple", "melon", "banana", "melon"];
            console.log(arr.indexOf("melon")); //1, 1번인덱스에 있어서
            console.log(arr.indexOf("strawberry")); //-1, 찾는값이 없어서
            console.log(arr.lastIndexOf("melon")); //3, 뒤에서부터 찾으면 3번인덱스에 있음
            };

    
        </script>
    
</body>
</html>

   