<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>유효성검사</title>
    <style>
    table#enroll{
        border: 1px solid;
        border-spacing:10px;
        width: 500px;
        margin: 0 auto;
    }
    table#enroll th{
        text-align:right;
    }
    table#enroll td.btn-wrapper{
        text-align: center;
    }
    .phone {
        width:30px;
    }
    span.req{
        color:red;
    }
    .short{
        width:50px;
    }
    </style>
</head>
<body>
    <h3>회원가입 유효성검사</h3>
    <p>
    회원가입시 각 필드마다 유효성 검사를 하여 처리 할 수 있도록 만들어라. <br>
    1. ID는 영어소문자,숫자만 가능해야함(4~12자리,소문자로 시작해야함) <br>
    2. PW는 영어소문자,대문자,숫자만 입력 가능해야 하고 (최소 8~12자리) <br>
    3. PW와 PW_re는 같아야 함<br>
    4. NAME은 무조건 한글(ㄱㄴㄷㄹ/ㅏㅑㅗㅠ 제외)만 가능해야 함(최소1글자 이상)<br>
    5. 주소에는 영어 사용 불가(공백 불가)<br>
    6. 우편번호는 무조건 숫자만 입력 가능해야 함<br>
    7. 이메일은 @가 포함 되어야 함(@ 앞에가 영문자 또는 숫자로 4~12글자/영문자 시작 ) <br>
    8. 전화번호는 첫번째 필드는 010만 입력 가능 해야 함 <br>
    두번째 필드는 3자리 이상 입력 해야 함 <br>
    세번째 필드는 무조건 4자리 입력 해야함 <br>
    (모두 숫자만 가능 해야함) <br>
        
        <form action="javascript:alert('제출성공');" name="memberFrm">
        <table id="enroll">
            <tr>
                <th>아이디<span class="req">*</span></th>
                <td>
                    <input type="text" name="userId" id="userId" >
                </td>
            </tr>
            <tr>
                <th>비밀번호<span class="req">*</span></th>
                <td>
                    <input type="password" name="pwd" id="pwd" >
                </td>
            </tr>
            <tr>
                <th>비밀번호확인</th>
                <td>
                    <input type="password" id="pwdCheck">
                </td>
            </tr>
            <tr>
                <th>이름<span class="req">*</span></th>
                <td>
                    <input type="text" name="userName" id="userName" > 
                </td>
            </tr>
            <tr>
                <th>주민번호<span class="req">*</span></th>
                <td>
                    <input type="text" name="ssn1" id="ssn1" class="short" >-
                    <input type="password" name="ssn2" id="ssn2" class="short" >
                </td>
            </tr>
            <tr>
                <th>이메일<span class="req">*</span></th>
                <td>
                    <input type="email" name="email" id="email" >
                </td>
            </tr>
            <tr>
                <th>전화번호<span class="req">*</span></th>
                <td>
                    <input type="text" name="tel1" id="tel1" class="phone" >-
                    <input type="text" name="tel2" id="tel2" class="phone" >-
                    <input type="text" name="tel3" id="tel3" class="phone" >
                </td>
            </tr>
            <tr>
                <th>직업</th>
                <td>
                    <select name="job" id="job">
                        <option value="공무원">공무원</option>
                        <option value="개발자">개발자</option>
                        <option value="무직">무직</option>
                    </select>
                </td>
            </tr>
            <tr>
                <th>취미</th>
                <td>
                    <input type="checkbox" name="hobby" id="hobby1" value="reading">
                    <label for="hobby1">독서</label>
                    <input type="checkbox" name="hobby" id="hobby2" value="development">
                    <label for="hobby2">개발</label>
                    <input type="checkbox" name="hobby" id="hobby3" value="exercise">
                    <label for="hobby3">운동</label>
                    <input type="checkbox" name="hobby" id="hobby4" value="game">
                    <label for="hobby4">게임</label>
                    <input type="checkbox" name="hobby" id="hobby5" value="movie">
                    <label for="hobby5">영화</label>
                </td>
            </tr>
            <tr>
                <td colspan="2" class="btn-wrapper">
                    <input type="submit" value="제출">&nbsp;
                    <input type="reset" value="초기화">
                </td>
            </tr>
        </table>
    </form>
    <script>
	 document.memberFrm.onsubmit = function(){
 
            message = document.getElementById("message");
            user_id = document.getElementById("user_id");
            pw = document.getElementById("pw");
            pw_re = document.getElementById("pw_re");
            user_name = document.getElementById("user_name");
            addr = document.getElementById("addr");
            post_1 = document.getElementById("post_1");
            post_2 = document.getElementById("post_2");
            email = document.getElementById("email");
            tel1 = document.getElementById("tel1");
            tel2 = document.getElementById("tel2");
            tel3 = document.getElementById("tel3");

        }

        function check() {

            init();
            if (!(/^[a-z][a-z0-9]{3,11}$/.test(user_id.value))) //아이디 검사
            {
                user_id.style.backgroundColor = "red";
                message.innerHTML = "아이디는 소문자,숫자만 가능하고 4~12글자 입력바랍니다.";
                return false;
            } else if (!(/[a-zA-Z0-9]{8,12}$/.test(pw.value))) //비밀번호 검사
            {
                pw.style.backgroundColor = "red";
                message.innerHTML = "비밀번호는 소문자,대문자,숫자 중 8~12글자로 입력 바랍니다.";
                return false;
            } else if (!(pw.value == pw_re.value)) //PW와 PW_RE 비교 검사
            {
                pw.style.backgroundColor = "red";
                pw_re.style.backgroundColor = "red";
                message.innerHTML = "비밀번호와 비밀번호 확인 값은 같아야 합니다.";
                return false;
            } else if (!(/[가-힣]+$/.test(user_name.value))) //이름 검사
            {
                user_name.style.backgroundColor = "red";
                message.innerHTML = "이름은 한글(최소1글자)만 가능합니다.";
                return false;
            } else if ((/[a-z]+$/i).test(addr.value) || addr.value == "") //주소검사
            {
                addr.style.backgroundColor = "red";
                message.innerHTML = "주소 입력은 영어 사용이 불가합니다. (공백 불가)";
                return false;
            } else if (!(/[0-9]+$/.test(post_1.value) && (/[0-9]+$/.test(post_2.value)))) //우편번호 검사
            {
                post_1.style.backgroundColor = "red";
                post_2.style.backgroundColor = "red";
                message.innerHTML = "우편번호는 숫자만 입력 가능합니다.";
                return false;
            } else if (!(/^[a-z0-9]{4,12}@/.test(email.value))) //이메일 검사
            {
                email.style.backgroundColor = "red";
                message.innerHTML = "이메일을 재확인해주세요(@앞에는 영어 또는 숫자만 가능/첫시작은 소문자)";
                return false;
            } else if (!((/^010$/.test(tel1.value)) && (/[0-9]{3,4}$/.test(tel2.value)) && (/[0-9]{4}$/.test(tel3.value)))) //폰 검사
            {
                tel1.style.backgroundColor = "red";
                tel2.style.backgroundColor = "red";
                tel3.style.backgroundColor = "red";
                message.innerHTML = "폰번호를 재확인 해주세요";
                return false;
            }
            return true;
        }

        function init() {
            message.innerHTML = "";
            user_id.style.backgroundColor = "white";
            pw.style.backgroundColor = "white";
            pw_re.style.backgroundColor = "white";
            user_name.style.backgroundColor = "white";
            addr.style.backgroundColor = "white";
            post_1.style.backgroundColor = "white";
            post_2.style.backgroundColor = "white";
            email.style.backgroundColor = "white";
            tel1.style.backgroundColor = "white";
            tel2.style.backgroundColor = "white";
            tel3.style.backgroundColor = "white";
        }
    </script>
    <center>

        <fieldset>
            <legend>회원가입</legend>
            <pre>
<span id="message" style="color:blue;"></span>
            <form action="join" method="post">
ID :        <input type="text" id="user_id" /><br>
PW :        <input type="password" id="pw" /><br>
PW_re :     <input type="password" id="pw_re" /><br>
NAME :      <input type="text" id="user_name" /><br>
ADDRESS :   <input type="text" id="addr" /><br>
POST NUMBER:  <input type="text" size="5" id="post_1" /> - <input type="text" size="5" id="post_2" /> <br>
E-MAIL :    <input type="text" id="email" /><br>
PHONE :     <input type="text" id="tel1" size="2" maxlength="3" />-<input type="text" id="tel2" size="2" maxlength="4" />-<input type="text" id="tel3" size="2" maxlength="4" /><br>
<input type="submit" value="회원가입" onclick="return check();"/>  <input type="reset" value="취소" />
            </form>
</pre>
        </fieldset>
    </center>

</body></html>
    
